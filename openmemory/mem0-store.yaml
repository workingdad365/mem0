type: Microsoft.App/containerApps
name: mem0-store
properties:
  environmentId: /subscriptions/dd0af5f8-3ec0-430f-bb4f-3c70732c41cc/resourceGroups/rg-az01-co001501-sbox-openmemory/providers/Microsoft.App/managedEnvironments/cae-openmemory-sbox-poc-11
  configuration:
    ingress:
      external: false
      allowInsecure: false
      targetPort: 6333
      transport: http
  template:
    containers:
    - name: qdrant
      image: qdrant/qdrant:latest
      resources:
        cpu: 0.5
        memory: 1.0Gi
      volumeMounts:
      - volumeName: mem0-storage
        mountPath: /qdrant/storage
    scale:
      minReplicas: 1
      maxReplicas: 3
    volumes:
    - name: mem0-storage
      storageType: AzureFile
      storageName: mem0storage
      mountOptions: "dir_mode=0777,file_mode=0777,nobrl"